# Apache Kafka 기초 개념

## 1. Kafka란?

Apache Kafka는 **분산형 메시지 스트리밍 플랫폼**입니다.
실시간 데이터 파이프라인, 이벤트 소싱, 로그 수집 등 다양한 목적으로 사용됩니다.

**핵심 특징**

* 높은 처리량: 초당 수백만 건의 메시지 처리 가능
* 내구성: 메시지가 디스크에 영속적으로 저장됨
* 확장성: 브로커를 추가해 클러스터 확장 가능
* 실시간 처리: 이벤트를 거의 실시간으로 소비 가능

## 2. Kafka 구성 요소

### 2-1. 브로커(Broker)

Kafka 서버 단위. 메시지를 저장하고, 프로듀서/컨슈머와 통신.

* 하나의 클러스터는 여러 브로커로 구성 가능.

### 2-2. 토픽(Topic)

메시지를 구분하는 **논리적 카테고리**.

* 예: `user-signup`, `order-events`
* 토픽 안에는 \*\*파티션(Partition)\*\*이 존재.

### 2-3. 파티션(Partition)

토픽 내 메시지의 **물리적 단위**.

* 메시지는 파티션 단위로 저장되고 순서가 보장됨.
* 파티션이 많으면 병렬 처리 가능.

### 2-4. 프로듀서(Producer)

* 메시지를 Kafka 토픽에 보내는 클라이언트.

### 2-5. 컨슈머(Consumer)

* 토픽에서 메시지를 읽어가는 클라이언트.
* **컨슈머 그룹**을 통해 여러 인스턴스가 메시지를 병렬 처리 가능.

### 2-6. Zookeeper

* Kafka 클러스터의 **메타데이터 관리**를 담당.
* Kafka 2.8 이후부터는 **KRaft 모드**를 통해 Zookeeper 없이 운영 가능.

## 3. Kafka 메시지 흐름

1. 프로듀서가 토픽에 메시지를 전송
2. 메시지가 파티션 단위로 브로커에 저장
3. 컨슈머 그룹이 토픽에서 메시지를 읽음
4. 컨슈머는 오프셋(offset)을 관리하며 중복/누락 없이 처리 가능

## 4. Kafka 장점

* 실시간 데이터 스트리밍 처리
* 내구성 및 신뢰성 있는 메시지 전달
* 높은 확장성과 유연성
* 로그 기반 시스템과 이벤트 기반 아키텍처에 최적

## 5. Kafka 용어 정리

| 용어             | 설명                      |
| -------------- | ----------------------- |
| Broker         | 메시지를 저장하고 관리하는 서버       |
| Topic          | 메시지를 구분하는 논리적 단위        |
| Partition      | 토픽 안에서 메시지가 저장되는 단위     |
| Producer       | 메시지를 생성하여 보내는 클라이언트     |
| Consumer       | 메시지를 읽는 클라이언트           |
| Offset         | 파티션 내 메시지 위치를 나타내는 번호   |
| Consumer Group | 여러 컨슈머가 메시지를 나눠 처리하는 단위 |
